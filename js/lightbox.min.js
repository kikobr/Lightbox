!function(){var a,b,c,d,e;d=!1,e={},window.lightbox_options=function(a){return e=a},c=function(){return"undefined"==typeof jQuery||null===jQuery?(alert("nao"),d||(d=!0,document.write('<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>')),setTimeout(c,50)):$(function(){var a;return a=new b,window.lightbox=a})},c(),a=function(){function a(a){this.container=null!=(null!=a?a.container:void 0)?a.container:".k-lightbox .front",this.max_height=.7,this.max_width=.8,null!=(null!=a?a.href:void 0)&&(this.img=$(document.createElement("img")),this.img.attr("src",a.href),this.append(),this.resize())}return a.prototype.resize=function(){var a,b,c,d,e,f,g,h,i;return h=window.innerHeight,i=window.innerWidth,a=this.container.outerHeight(),b=this.container.outerWidth(),d=this.img.outerHeight(),e=this.img.outerWidth(),this.img.fadeOut(0),a=a>=h?(g=this.max_height*h,c=a-d,f=g-c,this.img.css("height",f)):void 0,this.img.fadeIn(500)},a.prototype.append=function(){return this.container.html(""),this.container.append(this.img)},a}(),b=function(){function b(){var a,b;this.user_options=null!=e?e:null,this.click_holder=(null!=(a=this.user_options)?a.click:void 0)?this.user_options.click:"[data-lightbox]",this.time_fade=(null!=(b=this.user_options)?b.time_fade:void 0)?this.user_options.time_fade:250,this.create_html_css(),null!=this.user_options&&this.set(this.user_options),this.set_click_holders(),this.set_2()}return b.prototype.create_html_css=function(){var a,b;return this.lightbox=$(document.createElement("div")),this.lightbox_front=$(document.createElement("div")),this.lightbox_back=$(document.createElement("div")),this.lightbox.addClass("k-lightbox"),this.lightbox_front.addClass("front"),this.lightbox_back.addClass("back"),this.lightbox.append(this.lightbox_front,this.lightbox_back),$("body").prepend(this.lightbox),this.lightbox.fadeOut(0),a=$(document.createElement("style")),a.attr("type","text/css"),b="      body { margin:0; padding: 0; }      .k-lightbox .front {         background-color: #FFFFFF;         padding: 10px;         position: absolute;        z-index: 991;      }      .k-lightbox .back {        width: 100%;        height: 100%;        position: fixed;        z-index: 990;        background: grey; background: rgba(0,0,0,0.4);      }    ",a.html(b),$("head").append(a)},b.prototype.set=function(a){var b,c,d;return d=null!=(null!=a?a.id_front:void 0)?a.id_front:null,c=null!=(null!=a?a.id_back:void 0)?a.id_back:null,null!=d&&this.lightbox_front.attr("id",d),null!=c&&this.lightbox_back.attr("id",c),null!=(null!=a?a.time_fade:void 0)&&(this.time_fade=a.time_fade),null!=(null!=a?a.click_holder:void 0)&&(this.click_holder=a.click_holder),b=this.click_holder,null!=(null!=a?a.click_holder:void 0)&&(this.click_holder=a.click_holder),null!=(null!=a?a.click_holder:void 0)?this.set_click_holders(b):void 0},b.prototype.set_2=function(){var a=this;return window.lightbox_options=function(b){return a.set(b)}},b.prototype.set_click_holders=function(a){var b=this;return null!=a&&$(a).unbind("click"),$(this.click_holder).click(function(a){return a.preventDefault(),b.open($(this))}),$(this.lightbox_back).click(function(){return b.close()})},b.prototype.close=function(){return this.lightbox.fadeOut(this.time_fade)},b.prototype.open=function(b){var c,d;return this.lightbox.fadeIn(this.time_fade),c=null!=(null!=b?b.attr("href"):void 0)?b.attr("href"):null,d=new a({container:this.lightbox_front,href:c})},b}()}.call(this);